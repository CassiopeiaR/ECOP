`timescale 1ns / 1ps

module IM(
    input InsMemRW,                 // ??§Õ?????0=>§Õ??1=>??
    input [31:0] IAddr,             // ??????????????????????????????????????? IDataOut
    input [31:0] IDataIn,           // ??????????32¦Ë???????????????????????§Õ?????
    
    output reg [31:0] IDataOut      // ???????????32¦Ë?????
    );

    reg [7:0] Memory[0:127];        // 8¦Ë???????›¥???????128??

    initial begin
        $readmemb("C:\\Users\\dell\\Desktop\\MultipleCPU\\instuction.txt.txt", Memory);
    end

    // ???????????????§Ó??????? IDataIn??????? IDataIn ???§Û?????????
    // ?????????? IDataIn?????? IM ???§Õ??§Ø?????? InsMemRW ??? 1
    always@(IAddr or InsMemRW)
    begin
        if(InsMemRW) begin
            // ???????????????¦Ë????????????¦Ë????????
            IDataOut[31:24] = Memory[IAddr];
            IDataOut[23:16] = Memory[IAddr + 1];
            IDataOut[15:8] = Memory[IAddr + 2];
            IDataOut[7:0] = Memory[IAddr + 3];
        end
    end

endmodule
